{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gowth_tq3ir2j\\\\OneDrive\\\\Documents\\\\project 3rd year\\\\one credit\\\\Fitness Tracker\\\\frontend\\\\src\\\\components\\\\community\\\\EnhancedCommunityFeatures.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Grid, Card, CardContent, Typography, Button, Avatar, Chip, Dialog, DialogTitle, DialogContent, DialogActions, TextField, FormControl, InputLabel, Select, MenuItem, Tabs, Tab, List, ListItem, ListItemAvatar, ListItemText, ListItemSecondaryAction, IconButton, Badge, Paper, LinearProgress, Alert, Snackbar } from '@mui/material';\nimport { Add as AddIcon, EmojiEvents as TrophyIcon, People as PeopleIcon, TrendingUp as TrendingUpIcon, Chat as ChatIcon, ThumbUp as LikeIcon, Share as ShareIcon, CalendarToday as CalendarIcon, Timer as TimerIcon, FitnessCenter as WorkoutIcon, Restaurant as DietIcon, Scale as WeightIcon, Star as StarIcon, Message as MessageIcon } from '@mui/icons-material';\nimport { communityService } from '../../services/communityService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EnhancedCommunityFeatures = ({\n  activeTab = 0,\n  onTabChange\n}) => {\n  _s();\n  const [internalActiveTab, setInternalActiveTab] = useState(activeTab);\n\n  // Use external tab control if provided, otherwise use internal state\n  const currentTab = onTabChange ? activeTab : internalActiveTab;\n  const handleTabChange = onTabChange || ((event, newValue) => setInternalActiveTab(newValue));\n  const [challenges, setChallenges] = useState([]);\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [forum, setForum] = useState([]);\n  const [createChallengeOpen, setCreateChallengeOpen] = useState(false);\n  const [newChallenge, setNewChallenge] = useState({\n    title: '',\n    description: '',\n    type: '',\n    duration: '',\n    target: '',\n    reward: ''\n  });\n  const [notification, setNotification] = useState({\n    open: false,\n    message: '',\n    severity: 'success'\n  });\n  useEffect(() => {\n    loadCommunityData();\n  }, []);\n  const loadCommunityData = async () => {\n    try {\n      // Load real data from API with localStorage fallback\n      try {\n        const challengesResponse = await communityService.listChallenges();\n        setChallenges(challengesResponse.items || []);\n      } catch (error) {\n        console.warn('Backend unavailable, using mock challenges:', error);\n        setChallenges([{\n          id: 1,\n          title: '30-Day Push-up Challenge',\n          description: 'Complete 100 push-ups every day for 30 days',\n          type: 'workout',\n          duration: 30,\n          participants: 156,\n          reward: 'Fitness Badge + 500 Points',\n          status: 'active',\n          createdBy: 'Admin',\n          startDate: '2024-01-01',\n          endDate: '2024-01-30',\n          progress: 65,\n          userProgress: 20\n        }, {\n          id: 2,\n          title: 'Healthy Eating Streak',\n          description: 'Log meals and stay within calorie goals for 21 days',\n          type: 'diet',\n          duration: 21,\n          participants: 89,\n          reward: 'Nutrition Expert Badge + 300 Points',\n          status: 'active',\n          createdBy: 'Faculty',\n          startDate: '2024-01-15',\n          endDate: '2024-02-05',\n          progress: 45,\n          userProgress: 12\n        }, {\n          id: 3,\n          title: 'Weight Loss Warriors',\n          description: 'Lose 5kg in 60 days with healthy lifestyle changes',\n          type: 'weight',\n          duration: 60,\n          participants: 234,\n          reward: 'Transformation Badge + 1000 Points',\n          status: 'active',\n          createdBy: 'Admin',\n          startDate: '2024-01-01',\n          endDate: '2024-03-01',\n          progress: 30,\n          userProgress: 8\n        }]);\n      }\n      try {\n        const leaderboardResponse = await communityService.leaderboard();\n        setLeaderboard(leaderboardResponse.items || []);\n      } catch (error) {\n        console.warn('Backend unavailable, using mock leaderboard:', error);\n        setLeaderboard([{\n          rank: 1,\n          name: 'Alex Johnson',\n          points: 2450,\n          avatar: 'AJ',\n          badge: 'Champion'\n        }, {\n          rank: 2,\n          name: 'Sarah Wilson',\n          points: 2200,\n          avatar: 'SW',\n          badge: 'Elite'\n        }, {\n          rank: 3,\n          name: 'Mike Chen',\n          points: 1950,\n          avatar: 'MC',\n          badge: 'Expert'\n        }, {\n          rank: 4,\n          name: 'Emma Davis',\n          points: 1800,\n          avatar: 'ED',\n          badge: 'Advanced'\n        }, {\n          rank: 5,\n          name: 'Tom Brown',\n          points: 1650,\n          avatar: 'TB',\n          badge: 'Intermediate'\n        }]);\n      }\n      try {\n        const forumResponse = await communityService.listForums();\n        setForum(forumResponse.items || []);\n      } catch (error) {\n        console.warn('Backend unavailable, using mock forum:', error);\n        setForum([{\n          id: 1,\n          title: 'Best workout routines for beginners?',\n          author: 'Newbie123',\n          replies: 15,\n          likes: 23,\n          lastReply: '2 hours ago',\n          category: 'Workout Tips'\n        }, {\n          id: 2,\n          title: 'Meal prep ideas for busy students',\n          author: 'BusyStudent',\n          replies: 8,\n          likes: 31,\n          lastReply: '5 hours ago',\n          category: 'Nutrition'\n        }, {\n          id: 3,\n          title: 'How to stay motivated during weight loss plateau?',\n          author: 'FitnessJourney',\n          replies: 22,\n          likes: 45,\n          lastReply: '1 day ago',\n          category: 'Motivation'\n        }]);\n      }\n    } catch (error) {\n      console.error('Error loading community data:', error);\n    }\n  };\n  const handleCreateChallenge = async () => {\n    if (!newChallenge.title || !newChallenge.description) {\n      showNotification('Please fill in all required fields', 'error');\n      return;\n    }\n    try {\n      const challengeData = {\n        title: newChallenge.title,\n        description: newChallenge.description\n      };\n      try {\n        const createdChallenge = await communityService.createChallenge(challengeData);\n        setChallenges(prev => [createdChallenge, ...prev]);\n        showNotification('Challenge created successfully!', 'success');\n      } catch (backendError) {\n        console.warn('Backend unavailable, saving locally:', backendError);\n\n        // Fallback to localStorage\n        const challenge = {\n          id: challenges.length + 1,\n          ...newChallenge,\n          participants: 0,\n          status: 'active',\n          createdBy: 'Current User',\n          startDate: new Date().toISOString().split('T')[0],\n          endDate: new Date(Date.now() + newChallenge.duration * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n          progress: 0,\n          userProgress: 0\n        };\n        const existingChallenges = JSON.parse(localStorage.getItem('challenges') || '[]');\n        existingChallenges.unshift(challenge);\n        localStorage.setItem('challenges', JSON.stringify(existingChallenges));\n        setChallenges([challenge, ...challenges]);\n        showNotification('Challenge saved locally! (Backend unavailable)', 'warning');\n      }\n      setCreateChallengeOpen(false);\n      setNewChallenge({\n        title: '',\n        description: '',\n        type: 'workout',\n        duration: 30,\n        target: '',\n        reward: ''\n      });\n    } catch (error) {\n      console.error('Error creating challenge:', error);\n      showNotification('Failed to create challenge', 'error');\n    }\n  };\n  const joinChallenge = async challengeId => {\n    if (!challengeId) {\n      showNotification('Invalid challenge ID', 'error');\n      return;\n    }\n    try {\n      try {\n        const response = await communityService.joinChallenge(challengeId);\n        setChallenges(challenges.map(challenge => (challenge._id || challenge.id) === challengeId ? {\n          ...challenge,\n          participants: response.participants || challenge.participants + 1,\n          userProgress: 1\n        } : challenge));\n        showNotification('Joined challenge successfully!', 'success');\n      } catch (backendError) {\n        console.warn('Backend unavailable, updating locally:', backendError);\n        setChallenges(challenges.map(challenge => (challenge._id || challenge.id) === challengeId ? {\n          ...challenge,\n          participants: challenge.participants + 1,\n          userProgress: 1\n        } : challenge));\n        showNotification('Joined challenge locally! (Backend unavailable)', 'warning');\n      }\n    } catch (error) {\n      console.error('Error joining challenge:', error);\n      showNotification('Failed to join challenge', 'error');\n    }\n  };\n  const showNotification = (message, severity) => {\n    setNotification({\n      open: true,\n      message,\n      severity\n    });\n  };\n  const renderChallenges = () => /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    spacing: 3,\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      size: {\n        xs: 12\n      },\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        mb: 2,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          children: \"Active Challenges\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 24\n          }, this),\n          onClick: () => setCreateChallengeOpen(true),\n          children: \"Create Challenge\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), challenges.map(challenge => /*#__PURE__*/_jsxDEV(Grid, {\n      size: {\n        xs: 12,\n        md: 6,\n        lg: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          height: '100%',\n          display: 'flex',\n          flexDirection: 'column'\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          sx: {\n            flexGrow: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"flex-start\",\n            mb: 2,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              component: \"h2\",\n              children: challenge.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              label: challenge.status,\n              color: challenge.status === 'active' ? 'success' : 'default',\n              size: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"textSecondary\",\n            gutterBottom: true,\n            children: challenge.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 1,\n            mb: 2,\n            children: [challenge.type === 'workout' && /*#__PURE__*/_jsxDEV(WorkoutIcon, {\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 50\n            }, this), challenge.type === 'diet' && /*#__PURE__*/_jsxDEV(DietIcon, {\n              color: \"secondary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 47\n            }, this), challenge.type === 'weight' && /*#__PURE__*/_jsxDEV(WeightIcon, {\n              color: \"success\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 49\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"textSecondary\",\n              children: [challenge.duration, \" days \\u2022 \", challenge.participants, \" participants\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            mb: 2,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"textSecondary\",\n              gutterBottom: true,\n              children: [\"Progress: \", challenge.userProgress, \"/\", challenge.duration, \" days\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n              variant: \"determinate\",\n              value: challenge.userProgress / challenge.duration * 100,\n              sx: {\n                mb: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"textSecondary\",\n              children: [challenge.progress, \"% of participants active\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"primary\",\n            gutterBottom: true,\n            children: [\"\\uD83C\\uDFC6 Reward: \", challenge.reward]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            mt: 2,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"textSecondary\",\n              children: [\"Created by \", challenge.createdBy]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              size: \"small\",\n              onClick: () => joinChallenge(challenge._id || challenge.id),\n              disabled: challenge.userProgress > 0,\n              children: challenge.userProgress > 0 ? 'Joined' : 'Join Challenge'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }, this)\n    }, challenge._id || challenge.id || `challenge-${Math.random()}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 270,\n    columnNumber: 5\n  }, this);\n  const renderLeaderboard = () => /*#__PURE__*/_jsxDEV(Card, {\n    children: /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        children: \"\\uD83C\\uDFC6 Leaderboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        children: leaderboard.map((user, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n          divider: index < leaderboard.length - 1,\n          children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n            children: /*#__PURE__*/_jsxDEV(Avatar, {\n              sx: {\n                bgcolor: index === 0 ? 'gold' : index === 1 ? 'silver' : index === 2 ? '#CD7F32' : 'primary.main',\n                color: 'white'\n              },\n              children: index < 3 ? /*#__PURE__*/_jsxDEV(TrophyIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 32\n              }, this) : user.avatar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: 1,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                children: [\"#\", user.rank, \" \", user.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                label: user.badge,\n                size: \"small\",\n                color: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 19\n            }, this),\n            secondary: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [user.points.toLocaleString(), \" points\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 21\n              }, this), index < 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginLeft: '16px',\n                  color: '#1976d2'\n                },\n                children: [\"\\uD83C\\uDFC6 Top \", index === 0 ? 'Champion' : index === 1 ? 'Runner-up' : '3rd Place']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 19\n            }, this),\n            secondaryTypographyProps: {\n              component: 'div'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              edge: \"end\",\n              children: /*#__PURE__*/_jsxDEV(ShareIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this)]\n        }, user.id || user.rank || `user-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 351,\n    columnNumber: 5\n  }, this);\n  const renderForum = () => /*#__PURE__*/_jsxDEV(Card, {\n    children: /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        mb: 2,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          children: \"Community Forum\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 50\n          }, this),\n          children: \"New Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        children: forum.map((post, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n          divider: index < forum.length - 1,\n          children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n            children: /*#__PURE__*/_jsxDEV(Avatar, {\n              children: post.author.charAt(0).toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: 1,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                children: post.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                label: post.category,\n                size: \"small\",\n                color: \"secondary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 19\n            }, this),\n            secondary: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'rgba(0, 0, 0, 0.6)'\n                },\n                children: [\"by \", post.author, \" \\u2022 \", post.lastReply]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '16px',\n                  marginTop: '8px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '4px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(ChatIcon, {\n                    fontSize: \"small\",\n                    color: \"action\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: '0.75rem'\n                    },\n                    children: [post.replies, \" replies\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '4px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(LikeIcon, {\n                    fontSize: \"small\",\n                    color: \"action\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: '0.75rem'\n                    },\n                    children: [post.likes, \" likes\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 19\n            }, this),\n            secondaryTypographyProps: {\n              component: 'div'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              edge: \"end\",\n              children: /*#__PURE__*/_jsxDEV(MessageIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 15\n          }, this)]\n        }, post._id || post.id || `post-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 403,\n    columnNumber: 5\n  }, this);\n  const renderCreateChallengeDialog = () => /*#__PURE__*/_jsxDEV(Dialog, {\n    open: createChallengeOpen,\n    onClose: () => setCreateChallengeOpen(false),\n    maxWidth: \"md\",\n    fullWidth: true,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: \"Create New Challenge\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        sx: {\n          mt: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          size: {\n            xs: 12\n          },\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Challenge Title\",\n            value: newChallenge.title,\n            onChange: e => setNewChallenge({\n              ...newChallenge,\n              title: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          size: {\n            xs: 12\n          },\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Description\",\n            multiline: true,\n            rows: 3,\n            value: newChallenge.description,\n            onChange: e => setNewChallenge({\n              ...newChallenge,\n              description: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          size: {\n            xs: 12,\n            sm: 6\n          },\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"Challenge Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: newChallenge.type,\n              onChange: e => setNewChallenge({\n                ...newChallenge,\n                type: e.target.value\n              }),\n              label: \"Challenge Type\",\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"workout\",\n                children: \"Workout Challenge\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"diet\",\n                children: \"Diet Challenge\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"weight\",\n                children: \"Weight Loss Challenge\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"consistency\",\n                children: \"Consistency Challenge\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          size: {\n            xs: 12,\n            sm: 6\n          },\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Duration (days)\",\n            type: \"number\",\n            value: newChallenge.duration,\n            onChange: e => setNewChallenge({\n              ...newChallenge,\n              duration: parseInt(e.target.value)\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          size: {\n            xs: 12,\n            sm: 6\n          },\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Target\",\n            value: newChallenge.target,\n            onChange: e => setNewChallenge({\n              ...newChallenge,\n              target: e.target.value\n            }),\n            placeholder: \"e.g., 100 push-ups daily\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          size: {\n            xs: 12,\n            sm: 6\n          },\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Reward\",\n            value: newChallenge.reward,\n            onChange: e => setNewChallenge({\n              ...newChallenge,\n              reward: e.target.value\n            }),\n            placeholder: \"e.g., 500 points + badge\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setCreateChallengeOpen(false),\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleCreateChallenge,\n        variant: \"contained\",\n        children: \"Create Challenge\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 461,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      p: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"Community Hub\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 538,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        mb: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Tabs, {\n        value: activeTab,\n        onChange: (e, newValue) => setActiveTab(newValue),\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Challenges\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Leaderboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Forum\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 7\n    }, this), activeTab === 0 && renderChallenges(), activeTab === 1 && renderLeaderboard(), activeTab === 2 && renderForum(), renderCreateChallengeDialog(), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: notification.open,\n      autoHideDuration: 6000,\n      onClose: () => setNotification({\n        ...notification,\n        open: false\n      }),\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: notification.severity,\n        onClose: () => setNotification({\n          ...notification,\n          open: false\n        }),\n        children: notification.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 537,\n    columnNumber: 5\n  }, this);\n};\n_s(EnhancedCommunityFeatures, \"D1/OX7VVGx5lsfzLtk3hmMgoZLE=\");\n_c = EnhancedCommunityFeatures;\nexport default EnhancedCommunityFeatures;\nvar _c;\n$RefreshReg$(_c, \"EnhancedCommunityFeatures\");","map":{"version":3,"names":["React","useState","useEffect","Box","Grid","Card","CardContent","Typography","Button","Avatar","Chip","Dialog","DialogTitle","DialogContent","DialogActions","TextField","FormControl","InputLabel","Select","MenuItem","Tabs","Tab","List","ListItem","ListItemAvatar","ListItemText","ListItemSecondaryAction","IconButton","Badge","Paper","LinearProgress","Alert","Snackbar","Add","AddIcon","EmojiEvents","TrophyIcon","People","PeopleIcon","TrendingUp","TrendingUpIcon","Chat","ChatIcon","ThumbUp","LikeIcon","Share","ShareIcon","CalendarToday","CalendarIcon","Timer","TimerIcon","FitnessCenter","WorkoutIcon","Restaurant","DietIcon","Scale","WeightIcon","Star","StarIcon","Message","MessageIcon","communityService","jsxDEV","_jsxDEV","EnhancedCommunityFeatures","activeTab","onTabChange","_s","internalActiveTab","setInternalActiveTab","currentTab","handleTabChange","event","newValue","challenges","setChallenges","leaderboard","setLeaderboard","forum","setForum","createChallengeOpen","setCreateChallengeOpen","newChallenge","setNewChallenge","title","description","type","duration","target","reward","notification","setNotification","open","message","severity","loadCommunityData","challengesResponse","listChallenges","items","error","console","warn","id","participants","status","createdBy","startDate","endDate","progress","userProgress","leaderboardResponse","rank","name","points","avatar","badge","forumResponse","listForums","author","replies","likes","lastReply","category","handleCreateChallenge","showNotification","challengeData","createdChallenge","createChallenge","prev","backendError","challenge","length","Date","toISOString","split","now","existingChallenges","JSON","parse","localStorage","getItem","unshift","setItem","stringify","joinChallenge","challengeId","response","map","_id","renderChallenges","container","spacing","children","size","xs","display","justifyContent","alignItems","mb","variant","fileName","_jsxFileName","lineNumber","columnNumber","startIcon","onClick","md","lg","sx","height","flexDirection","flexGrow","component","label","color","gutterBottom","gap","value","mt","disabled","Math","random","renderLeaderboard","user","index","divider","bgcolor","primary","secondary","toLocaleString","style","marginLeft","secondaryTypographyProps","edge","renderForum","post","charAt","toUpperCase","marginTop","fontSize","renderCreateChallengeDialog","onClose","maxWidth","fullWidth","onChange","e","required","multiline","rows","sm","parseInt","placeholder","p","setActiveTab","autoHideDuration","_c","$RefreshReg$"],"sources":["C:/Users/gowth_tq3ir2j/OneDrive/Documents/project 3rd year/one credit/Fitness Tracker/frontend/src/components/community/EnhancedCommunityFeatures.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Grid,\n  Card,\n  CardContent,\n  Typography,\n  Button,\n  Avatar,\n  Chip,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Tabs,\n  Tab,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  ListItemSecondaryAction,\n  IconButton,\n  Badge,\n  Paper,\n  LinearProgress,\n  Alert,\n  Snackbar\n} from '@mui/material';\nimport {\n  Add as AddIcon,\n  EmojiEvents as TrophyIcon,\n  People as PeopleIcon,\n  TrendingUp as TrendingUpIcon,\n  Chat as ChatIcon,\n  ThumbUp as LikeIcon,\n  Share as ShareIcon,\n  CalendarToday as CalendarIcon,\n  Timer as TimerIcon,\n  FitnessCenter as WorkoutIcon,\n  Restaurant as DietIcon,\n  Scale as WeightIcon,\n  Star as StarIcon,\n  Message as MessageIcon\n} from '@mui/icons-material';\nimport { communityService } from '../../services/communityService';\n\nconst EnhancedCommunityFeatures = ({ activeTab = 0, onTabChange }) => {\n  const [internalActiveTab, setInternalActiveTab] = useState(activeTab);\n  \n  // Use external tab control if provided, otherwise use internal state\n  const currentTab = onTabChange ? activeTab : internalActiveTab;\n  const handleTabChange = onTabChange || ((event, newValue) => setInternalActiveTab(newValue));\n  const [challenges, setChallenges] = useState([]);\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [forum, setForum] = useState([]);\n  const [createChallengeOpen, setCreateChallengeOpen] = useState(false);\n  const [newChallenge, setNewChallenge] = useState({\n    title: '',\n    description: '',\n    type: '',\n    duration: '',\n    target: '',\n    reward: ''\n  });\n  const [notification, setNotification] = useState({ open: false, message: '', severity: 'success' });\n\n  useEffect(() => {\n    loadCommunityData();\n  }, []);\n\n  const loadCommunityData = async () => {\n    try {\n      // Load real data from API with localStorage fallback\n      try {\n        const challengesResponse = await communityService.listChallenges();\n        setChallenges(challengesResponse.items || []);\n      } catch (error) {\n        console.warn('Backend unavailable, using mock challenges:', error);\n        setChallenges([\n      {\n        id: 1,\n        title: '30-Day Push-up Challenge',\n        description: 'Complete 100 push-ups every day for 30 days',\n        type: 'workout',\n        duration: 30,\n        participants: 156,\n        reward: 'Fitness Badge + 500 Points',\n        status: 'active',\n        createdBy: 'Admin',\n        startDate: '2024-01-01',\n        endDate: '2024-01-30',\n        progress: 65,\n        userProgress: 20\n      },\n      {\n        id: 2,\n        title: 'Healthy Eating Streak',\n        description: 'Log meals and stay within calorie goals for 21 days',\n        type: 'diet',\n        duration: 21,\n        participants: 89,\n        reward: 'Nutrition Expert Badge + 300 Points',\n        status: 'active',\n        createdBy: 'Faculty',\n        startDate: '2024-01-15',\n        endDate: '2024-02-05',\n        progress: 45,\n        userProgress: 12\n      },\n      {\n        id: 3,\n        title: 'Weight Loss Warriors',\n        description: 'Lose 5kg in 60 days with healthy lifestyle changes',\n        type: 'weight',\n        duration: 60,\n        participants: 234,\n        reward: 'Transformation Badge + 1000 Points',\n        status: 'active',\n        createdBy: 'Admin',\n        startDate: '2024-01-01',\n        endDate: '2024-03-01',\n        progress: 30,\n        userProgress: 8\n      }\n        ]);\n      }\n\n      try {\n        const leaderboardResponse = await communityService.leaderboard();\n        setLeaderboard(leaderboardResponse.items || []);\n      } catch (error) {\n        console.warn('Backend unavailable, using mock leaderboard:', error);\n        setLeaderboard([\n          { rank: 1, name: 'Alex Johnson', points: 2450, avatar: 'AJ', badge: 'Champion' },\n          { rank: 2, name: 'Sarah Wilson', points: 2200, avatar: 'SW', badge: 'Elite' },\n          { rank: 3, name: 'Mike Chen', points: 1950, avatar: 'MC', badge: 'Expert' },\n          { rank: 4, name: 'Emma Davis', points: 1800, avatar: 'ED', badge: 'Advanced' },\n          { rank: 5, name: 'Tom Brown', points: 1650, avatar: 'TB', badge: 'Intermediate' }\n        ]);\n      }\n\n      try {\n        const forumResponse = await communityService.listForums();\n        setForum(forumResponse.items || []);\n      } catch (error) {\n        console.warn('Backend unavailable, using mock forum:', error);\n        setForum([\n          {\n            id: 1,\n            title: 'Best workout routines for beginners?',\n            author: 'Newbie123',\n            replies: 15,\n            likes: 23,\n            lastReply: '2 hours ago',\n            category: 'Workout Tips'\n          },\n          {\n            id: 2,\n            title: 'Meal prep ideas for busy students',\n            author: 'BusyStudent',\n            replies: 8,\n            likes: 31,\n            lastReply: '5 hours ago',\n            category: 'Nutrition'\n          },\n          {\n            id: 3,\n            title: 'How to stay motivated during weight loss plateau?',\n            author: 'FitnessJourney',\n            replies: 22,\n            likes: 45,\n            lastReply: '1 day ago',\n            category: 'Motivation'\n          }\n        ]);\n      }\n    } catch (error) {\n      console.error('Error loading community data:', error);\n    }\n  };\n\n  const handleCreateChallenge = async () => {\n    if (!newChallenge.title || !newChallenge.description) {\n      showNotification('Please fill in all required fields', 'error');\n      return;\n    }\n\n    try {\n      const challengeData = {\n        title: newChallenge.title,\n        description: newChallenge.description\n      };\n\n      try {\n        const createdChallenge = await communityService.createChallenge(challengeData);\n        setChallenges(prev => [createdChallenge, ...prev]);\n        showNotification('Challenge created successfully!', 'success');\n      } catch (backendError) {\n        console.warn('Backend unavailable, saving locally:', backendError);\n        \n        // Fallback to localStorage\n        const challenge = {\n          id: challenges.length + 1,\n          ...newChallenge,\n          participants: 0,\n          status: 'active',\n          createdBy: 'Current User',\n          startDate: new Date().toISOString().split('T')[0],\n          endDate: new Date(Date.now() + newChallenge.duration * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n          progress: 0,\n          userProgress: 0\n        };\n\n        const existingChallenges = JSON.parse(localStorage.getItem('challenges') || '[]');\n        existingChallenges.unshift(challenge);\n        localStorage.setItem('challenges', JSON.stringify(existingChallenges));\n        \n        setChallenges([challenge, ...challenges]);\n        showNotification('Challenge saved locally! (Backend unavailable)', 'warning');\n      }\n\n      setCreateChallengeOpen(false);\n      setNewChallenge({ title: '', description: '', type: 'workout', duration: 30, target: '', reward: '' });\n    } catch (error) {\n      console.error('Error creating challenge:', error);\n      showNotification('Failed to create challenge', 'error');\n    }\n  };\n\n  const joinChallenge = async (challengeId) => {\n    if (!challengeId) {\n      showNotification('Invalid challenge ID', 'error');\n      return;\n    }\n    \n    try {\n      try {\n        const response = await communityService.joinChallenge(challengeId);\n        setChallenges(challenges.map(challenge => \n          (challenge._id || challenge.id) === challengeId \n            ? { ...challenge, participants: response.participants || challenge.participants + 1, userProgress: 1 }\n            : challenge\n        ));\n        showNotification('Joined challenge successfully!', 'success');\n      } catch (backendError) {\n        console.warn('Backend unavailable, updating locally:', backendError);\n        setChallenges(challenges.map(challenge => \n          (challenge._id || challenge.id) === challengeId \n            ? { ...challenge, participants: challenge.participants + 1, userProgress: 1 }\n            : challenge\n        ));\n        showNotification('Joined challenge locally! (Backend unavailable)', 'warning');\n      }\n    } catch (error) {\n      console.error('Error joining challenge:', error);\n      showNotification('Failed to join challenge', 'error');\n    }\n  };\n\n  const showNotification = (message, severity) => {\n    setNotification({ open: true, message, severity });\n  };\n\n  const renderChallenges = () => (\n    <Grid container spacing={3}>\n      <Grid size={{ xs: 12 }}>\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\n          <Typography variant=\"h5\">Active Challenges</Typography>\n          <Button\n            variant=\"contained\"\n            startIcon={<AddIcon />}\n            onClick={() => setCreateChallengeOpen(true)}\n          >\n            Create Challenge\n          </Button>\n        </Box>\n      </Grid>\n\n      {challenges.map((challenge) => (\n        <Grid size={{ xs: 12, md: 6, lg: 4 }} key={challenge._id || challenge.id || `challenge-${Math.random()}`}>\n          <Card sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n            <CardContent sx={{ flexGrow: 1 }}>\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"flex-start\" mb={2}>\n                <Typography variant=\"h6\" component=\"h2\">\n                  {challenge.title}\n                </Typography>\n                <Chip\n                  label={challenge.status}\n                  color={challenge.status === 'active' ? 'success' : 'default'}\n                  size=\"small\"\n                />\n              </Box>\n\n              <Typography color=\"textSecondary\" gutterBottom>\n                {challenge.description}\n              </Typography>\n\n              <Box display=\"flex\" alignItems=\"center\" gap={1} mb={2}>\n                {challenge.type === 'workout' && <WorkoutIcon color=\"primary\" />}\n                {challenge.type === 'diet' && <DietIcon color=\"secondary\" />}\n                {challenge.type === 'weight' && <WeightIcon color=\"success\" />}\n                <Typography variant=\"body2\" color=\"textSecondary\">\n                  {challenge.duration} days  {challenge.participants} participants\n                </Typography>\n              </Box>\n\n              <Box mb={2}>\n                <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\n                  Progress: {challenge.userProgress}/{challenge.duration} days\n                </Typography>\n                <LinearProgress\n                  variant=\"determinate\"\n                  value={(challenge.userProgress / challenge.duration) * 100}\n                  sx={{ mb: 1 }}\n                />\n                <Typography variant=\"caption\" color=\"textSecondary\">\n                  {challenge.progress}% of participants active\n                </Typography>\n              </Box>\n\n              <Typography variant=\"body2\" color=\"primary\" gutterBottom>\n                 Reward: {challenge.reward}\n              </Typography>\n\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mt={2}>\n                <Typography variant=\"caption\" color=\"textSecondary\">\n                  Created by {challenge.createdBy}\n                </Typography>\n                <Button\n                  variant=\"outlined\"\n                  size=\"small\"\n                  onClick={() => joinChallenge(challenge._id || challenge.id)}\n                  disabled={challenge.userProgress > 0}\n                >\n                  {challenge.userProgress > 0 ? 'Joined' : 'Join Challenge'}\n                </Button>\n              </Box>\n            </CardContent>\n          </Card>\n        </Grid>\n      ))}\n    </Grid>\n  );\n\n  const renderLeaderboard = () => (\n    <Card>\n      <CardContent>\n        <Typography variant=\"h5\" gutterBottom>\n           Leaderboard\n        </Typography>\n        <List>\n          {leaderboard.map((user, index) => (\n            <ListItem key={user.id || user.rank || `user-${index}`} divider={index < leaderboard.length - 1}>\n              <ListItemAvatar>\n                <Avatar\n                  sx={{\n                    bgcolor: index === 0 ? 'gold' : index === 1 ? 'silver' : index === 2 ? '#CD7F32' : 'primary.main',\n                    color: 'white'\n                  }}\n                >\n                  {index < 3 ? <TrophyIcon /> : user.avatar}\n                </Avatar>\n              </ListItemAvatar>\n              <ListItemText\n                primary={\n                  <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                    <Typography variant=\"h6\">\n                      #{user.rank} {user.name}\n                    </Typography>\n                    <Chip label={user.badge} size=\"small\" color=\"primary\" />\n                  </Box>\n                }\n                secondary={\n                  <span>\n                    <span>{user.points.toLocaleString()} points</span>\n                    {index < 3 && (\n                      <span style={{ marginLeft: '16px', color: '#1976d2' }}>\n                         Top {index === 0 ? 'Champion' : index === 1 ? 'Runner-up' : '3rd Place'}\n                      </span>\n                    )}\n                  </span>\n                }\n                secondaryTypographyProps={{ component: 'div' }}\n              />\n              <ListItemSecondaryAction>\n                <IconButton edge=\"end\">\n                  <ShareIcon />\n                </IconButton>\n              </ListItemSecondaryAction>\n            </ListItem>\n          ))}\n        </List>\n      </CardContent>\n    </Card>\n  );\n\n  const renderForum = () => (\n    <Card>\n      <CardContent>\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\n          <Typography variant=\"h5\">Community Forum</Typography>\n          <Button variant=\"contained\" startIcon={<AddIcon />}>\n            New Post\n          </Button>\n        </Box>\n\n        <List>\n          {forum.map((post, index) => (\n            <ListItem key={post._id || post.id || `post-${index}`} divider={index < forum.length - 1}>\n              <ListItemAvatar>\n                <Avatar>\n                  {post.author.charAt(0).toUpperCase()}\n                </Avatar>\n              </ListItemAvatar>\n              <ListItemText\n                primary={\n                  <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                    <Typography variant=\"h6\">\n                      {post.title}\n                    </Typography>\n                    <Chip label={post.category} size=\"small\" color=\"secondary\" />\n                  </Box>\n                }\n                secondary={\n                  <span>\n                    <span style={{ color: 'rgba(0, 0, 0, 0.6)' }}>\n                      by {post.author}  {post.lastReply}\n                    </span>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '16px', marginTop: '8px' }}>\n                      <span style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\n                        <ChatIcon fontSize=\"small\" color=\"action\" />\n                        <span style={{ fontSize: '0.75rem' }}>{post.replies} replies</span>\n                      </span>\n                      <span style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\n                        <LikeIcon fontSize=\"small\" color=\"action\" />\n                        <span style={{ fontSize: '0.75rem' }}>{post.likes} likes</span>\n                      </span>\n                    </div>\n                  </span>\n                }\n                secondaryTypographyProps={{ component: 'div' }}\n              />\n              <ListItemSecondaryAction>\n                <IconButton edge=\"end\">\n                  <MessageIcon />\n                </IconButton>\n              </ListItemSecondaryAction>\n            </ListItem>\n          ))}\n        </List>\n      </CardContent>\n    </Card>\n  );\n\n  const renderCreateChallengeDialog = () => (\n    <Dialog open={createChallengeOpen} onClose={() => setCreateChallengeOpen(false)} maxWidth=\"md\" fullWidth>\n      <DialogTitle>Create New Challenge</DialogTitle>\n      <DialogContent>\n        <Grid container spacing={2} sx={{ mt: 1 }}>\n          <Grid size={{ xs: 12 }}>\n            <TextField\n              fullWidth\n              label=\"Challenge Title\"\n              value={newChallenge.title}\n              onChange={(e) => setNewChallenge({...newChallenge, title: e.target.value})}\n              required\n            />\n          </Grid>\n          <Grid size={{ xs: 12 }}>\n            <TextField\n              fullWidth\n              label=\"Description\"\n              multiline\n              rows={3}\n              value={newChallenge.description}\n              onChange={(e) => setNewChallenge({...newChallenge, description: e.target.value})}\n              required\n            />\n          </Grid>\n          <Grid size={{ xs: 12, sm: 6 }}>\n            <FormControl fullWidth>\n              <InputLabel>Challenge Type</InputLabel>\n              <Select\n                value={newChallenge.type}\n                onChange={(e) => setNewChallenge({...newChallenge, type: e.target.value})}\n                label=\"Challenge Type\"\n              >\n                <MenuItem value=\"workout\">Workout Challenge</MenuItem>\n                <MenuItem value=\"diet\">Diet Challenge</MenuItem>\n                <MenuItem value=\"weight\">Weight Loss Challenge</MenuItem>\n                <MenuItem value=\"consistency\">Consistency Challenge</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n          <Grid size={{ xs: 12, sm: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Duration (days)\"\n              type=\"number\"\n              value={newChallenge.duration}\n              onChange={(e) => setNewChallenge({...newChallenge, duration: parseInt(e.target.value)})}\n            />\n          </Grid>\n          <Grid size={{ xs: 12, sm: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Target\"\n              value={newChallenge.target}\n              onChange={(e) => setNewChallenge({...newChallenge, target: e.target.value})}\n              placeholder=\"e.g., 100 push-ups daily\"\n            />\n          </Grid>\n          <Grid size={{ xs: 12, sm: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Reward\"\n              value={newChallenge.reward}\n              onChange={(e) => setNewChallenge({...newChallenge, reward: e.target.value})}\n              placeholder=\"e.g., 500 points + badge\"\n            />\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => setCreateChallengeOpen(false)}>Cancel</Button>\n        <Button onClick={handleCreateChallenge} variant=\"contained\">Create Challenge</Button>\n      </DialogActions>\n    </Dialog>\n  );\n\n  return (\n    <Box sx={{ p: 3 }}>\n      <Typography variant=\"h4\" gutterBottom>\n        Community Hub\n      </Typography>\n\n      <Paper sx={{ mb: 3 }}>\n        <Tabs value={activeTab} onChange={(e, newValue) => setActiveTab(newValue)}>\n          <Tab label=\"Challenges\" />\n          <Tab label=\"Leaderboard\" />\n          <Tab label=\"Forum\" />\n        </Tabs>\n      </Paper>\n\n      {activeTab === 0 && renderChallenges()}\n      {activeTab === 1 && renderLeaderboard()}\n      {activeTab === 2 && renderForum()}\n\n      {renderCreateChallengeDialog()}\n\n      <Snackbar\n        open={notification.open}\n        autoHideDuration={6000}\n        onClose={() => setNotification({...notification, open: false})}\n      >\n        <Alert severity={notification.severity} onClose={() => setNotification({...notification, open: false})}>\n          {notification.message}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default EnhancedCommunityFeatures;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}