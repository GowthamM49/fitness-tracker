{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Box,Grid,Card,CardContent,Typography,Button,Avatar,Chip,Dialog,DialogTitle,DialogContent,DialogActions,TextField,FormControl,InputLabel,Select,MenuItem,Tabs,Tab,List,ListItem,ListItemAvatar,ListItemText,ListItemSecondaryAction,IconButton,Badge,Paper,LinearProgress,Alert,Snackbar}from'@mui/material';import{Add as AddIcon,EmojiEvents as TrophyIcon,People as PeopleIcon,TrendingUp as TrendingUpIcon,Chat as ChatIcon,ThumbUp as LikeIcon,Share as ShareIcon,CalendarToday as CalendarIcon,Timer as TimerIcon,FitnessCenter as WorkoutIcon,Restaurant as DietIcon,Scale as WeightIcon,Star as StarIcon,Message as MessageIcon}from'@mui/icons-material';import{communityService}from'../../services/communityService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EnhancedCommunityFeatures=_ref=>{let{activeTab=0,onTabChange}=_ref;const[internalActiveTab,setInternalActiveTab]=useState(activeTab);// Use external tab control if provided, otherwise use internal state\nconst currentTab=onTabChange?activeTab:internalActiveTab;const handleTabChange=onTabChange||((event,newValue)=>setInternalActiveTab(newValue));const[challenges,setChallenges]=useState([]);const[leaderboard,setLeaderboard]=useState([]);const[forum,setForum]=useState([]);const[createChallengeOpen,setCreateChallengeOpen]=useState(false);const[newChallenge,setNewChallenge]=useState({title:'',description:'',type:'',duration:'',target:'',reward:''});const[notification,setNotification]=useState({open:false,message:'',severity:'success'});useEffect(()=>{loadCommunityData();},[]);const loadCommunityData=async()=>{try{// Load real data from API with localStorage fallback\ntry{const challengesResponse=await communityService.listChallenges();setChallenges(challengesResponse.items||[]);}catch(error){console.warn('Backend unavailable, using mock challenges:',error);setChallenges([{id:1,title:'30-Day Push-up Challenge',description:'Complete 100 push-ups every day for 30 days',type:'workout',duration:30,participants:156,reward:'Fitness Badge + 500 Points',status:'active',createdBy:'Admin',startDate:'2024-01-01',endDate:'2024-01-30',progress:65,userProgress:20},{id:2,title:'Healthy Eating Streak',description:'Log meals and stay within calorie goals for 21 days',type:'diet',duration:21,participants:89,reward:'Nutrition Expert Badge + 300 Points',status:'active',createdBy:'Faculty',startDate:'2024-01-15',endDate:'2024-02-05',progress:45,userProgress:12},{id:3,title:'Weight Loss Warriors',description:'Lose 5kg in 60 days with healthy lifestyle changes',type:'weight',duration:60,participants:234,reward:'Transformation Badge + 1000 Points',status:'active',createdBy:'Admin',startDate:'2024-01-01',endDate:'2024-03-01',progress:30,userProgress:8}]);}try{const leaderboardResponse=await communityService.leaderboard();setLeaderboard(leaderboardResponse.items||[]);}catch(error){console.warn('Backend unavailable, using mock leaderboard:',error);setLeaderboard([{rank:1,name:'Alex Johnson',points:2450,avatar:'AJ',badge:'Champion'},{rank:2,name:'Sarah Wilson',points:2200,avatar:'SW',badge:'Elite'},{rank:3,name:'Mike Chen',points:1950,avatar:'MC',badge:'Expert'},{rank:4,name:'Emma Davis',points:1800,avatar:'ED',badge:'Advanced'},{rank:5,name:'Tom Brown',points:1650,avatar:'TB',badge:'Intermediate'}]);}try{const forumResponse=await communityService.listForums();setForum(forumResponse.items||[]);}catch(error){console.warn('Backend unavailable, using mock forum:',error);setForum([{id:1,title:'Best workout routines for beginners?',author:'Newbie123',replies:15,likes:23,lastReply:'2 hours ago',category:'Workout Tips'},{id:2,title:'Meal prep ideas for busy students',author:'BusyStudent',replies:8,likes:31,lastReply:'5 hours ago',category:'Nutrition'},{id:3,title:'How to stay motivated during weight loss plateau?',author:'FitnessJourney',replies:22,likes:45,lastReply:'1 day ago',category:'Motivation'}]);}}catch(error){console.error('Error loading community data:',error);}};const handleCreateChallenge=async()=>{if(!newChallenge.title||!newChallenge.description){showNotification('Please fill in all required fields','error');return;}try{const challengeData={title:newChallenge.title,description:newChallenge.description};try{const createdChallenge=await communityService.createChallenge(challengeData);setChallenges(prev=>[createdChallenge,...prev]);showNotification('Challenge created successfully!','success');}catch(backendError){console.warn('Backend unavailable, saving locally:',backendError);// Fallback to localStorage\nconst challenge={id:challenges.length+1,...newChallenge,participants:0,status:'active',createdBy:'Current User',startDate:new Date().toISOString().split('T')[0],endDate:new Date(Date.now()+newChallenge.duration*24*60*60*1000).toISOString().split('T')[0],progress:0,userProgress:0};const existingChallenges=JSON.parse(localStorage.getItem('challenges')||'[]');existingChallenges.unshift(challenge);localStorage.setItem('challenges',JSON.stringify(existingChallenges));setChallenges([challenge,...challenges]);showNotification('Challenge saved locally! (Backend unavailable)','warning');}setCreateChallengeOpen(false);setNewChallenge({title:'',description:'',type:'workout',duration:30,target:'',reward:''});}catch(error){console.error('Error creating challenge:',error);showNotification('Failed to create challenge','error');}};const joinChallenge=async challengeId=>{if(!challengeId){showNotification('Invalid challenge ID','error');return;}try{try{const response=await communityService.joinChallenge(challengeId);setChallenges(challenges.map(challenge=>(challenge._id||challenge.id)===challengeId?{...challenge,participants:response.participants||challenge.participants+1,userProgress:1}:challenge));showNotification('Joined challenge successfully!','success');}catch(backendError){console.warn('Backend unavailable, updating locally:',backendError);setChallenges(challenges.map(challenge=>(challenge._id||challenge.id)===challengeId?{...challenge,participants:challenge.participants+1,userProgress:1}:challenge));showNotification('Joined challenge locally! (Backend unavailable)','warning');}}catch(error){console.error('Error joining challenge:',error);showNotification('Failed to join challenge','error');}};const showNotification=(message,severity)=>{setNotification({open:true,message,severity});};const renderChallenges=()=>/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{size:{xs:12},children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",mb:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"Active Challenges\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:()=>setCreateChallengeOpen(true),children:\"Create Challenge\"})]})}),challenges.map(challenge=>/*#__PURE__*/_jsx(Grid,{size:{xs:12,md:6,lg:4},children:/*#__PURE__*/_jsx(Card,{sx:{height:'100%',display:'flex',flexDirection:'column'},children:/*#__PURE__*/_jsxs(CardContent,{sx:{flexGrow:1},children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"space-between\",alignItems:\"flex-start\",mb:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"h2\",children:challenge.title}),/*#__PURE__*/_jsx(Chip,{label:challenge.status,color:challenge.status==='active'?'success':'default',size:\"small\"})]}),/*#__PURE__*/_jsx(Typography,{color:\"textSecondary\",gutterBottom:true,children:challenge.description}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",gap:1,mb:2,children:[challenge.type==='workout'&&/*#__PURE__*/_jsx(WorkoutIcon,{color:\"primary\"}),challenge.type==='diet'&&/*#__PURE__*/_jsx(DietIcon,{color:\"secondary\"}),challenge.type==='weight'&&/*#__PURE__*/_jsx(WeightIcon,{color:\"success\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",children:[challenge.duration,\" days \\u2022 \",challenge.participants,\" participants\"]})]}),/*#__PURE__*/_jsxs(Box,{mb:2,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",gutterBottom:true,children:[\"Progress: \",challenge.userProgress,\"/\",challenge.duration,\" days\"]}),/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:challenge.userProgress/challenge.duration*100,sx:{mb:1}}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"textSecondary\",children:[challenge.progress,\"% of participants active\"]})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"primary\",gutterBottom:true,children:[\"\\uD83C\\uDFC6 Reward: \",challenge.reward]}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",mt:2,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"textSecondary\",children:[\"Created by \",challenge.createdBy]}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",size:\"small\",onClick:()=>joinChallenge(challenge._id||challenge.id),disabled:challenge.userProgress>0,children:challenge.userProgress>0?'Joined':'Join Challenge'})]})]})})},challenge._id||challenge.id||`challenge-${Math.random()}`))]});const renderLeaderboard=()=>/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"\\uD83C\\uDFC6 Leaderboard\"}),/*#__PURE__*/_jsx(List,{children:leaderboard.map((user,index)=>/*#__PURE__*/_jsxs(ListItem,{divider:index<leaderboard.length-1,children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:index===0?'gold':index===1?'silver':index===2?'#CD7F32':'primary.main',color:'white'},children:index<3?/*#__PURE__*/_jsx(TrophyIcon,{}):user.avatar})}),/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"#\",user.rank,\" \",user.name]}),/*#__PURE__*/_jsx(Chip,{label:user.badge,size:\"small\",color:\"primary\"})]}),secondary:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[user.points.toLocaleString(),\" points\"]}),index<3&&/*#__PURE__*/_jsxs(\"span\",{style:{marginLeft:'16px',color:'#1976d2'},children:[\"\\uD83C\\uDFC6 Top \",index===0?'Champion':index===1?'Runner-up':'3rd Place']})]}),secondaryTypographyProps:{component:'div'}}),/*#__PURE__*/_jsx(ListItemSecondaryAction,{children:/*#__PURE__*/_jsx(IconButton,{edge:\"end\",children:/*#__PURE__*/_jsx(ShareIcon,{})})})]},user.id||user.rank||`user-${index}`))})]})});const renderForum=()=>/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",mb:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"Community Forum\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),children:\"New Post\"})]}),/*#__PURE__*/_jsx(List,{children:forum.map((post,index)=>/*#__PURE__*/_jsxs(ListItem,{divider:index<forum.length-1,children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsx(Avatar,{children:post.author.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:post.title}),/*#__PURE__*/_jsx(Chip,{label:post.category,size:\"small\",color:\"secondary\"})]}),secondary:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:'rgba(0, 0, 0, 0.6)'},children:[\"by \",post.author,\" \\u2022 \",post.lastReply]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'16px',marginTop:'8px'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{display:'flex',alignItems:'center',gap:'4px'},children:[/*#__PURE__*/_jsx(ChatIcon,{fontSize:\"small\",color:\"action\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.75rem'},children:[post.replies,\" replies\"]})]}),/*#__PURE__*/_jsxs(\"span\",{style:{display:'flex',alignItems:'center',gap:'4px'},children:[/*#__PURE__*/_jsx(LikeIcon,{fontSize:\"small\",color:\"action\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.75rem'},children:[post.likes,\" likes\"]})]})]})]}),secondaryTypographyProps:{component:'div'}}),/*#__PURE__*/_jsx(ListItemSecondaryAction,{children:/*#__PURE__*/_jsx(IconButton,{edge:\"end\",children:/*#__PURE__*/_jsx(MessageIcon,{})})})]},post._id||post.id||`post-${index}`))})]})});const renderCreateChallengeDialog=()=>/*#__PURE__*/_jsxs(Dialog,{open:createChallengeOpen,onClose:()=>setCreateChallengeOpen(false),maxWidth:\"md\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Create New Challenge\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,sx:{mt:1},children:[/*#__PURE__*/_jsx(Grid,{size:{xs:12},children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Challenge Title\",value:newChallenge.title,onChange:e=>setNewChallenge({...newChallenge,title:e.target.value}),required:true})}),/*#__PURE__*/_jsx(Grid,{size:{xs:12},children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Description\",multiline:true,rows:3,value:newChallenge.description,onChange:e=>setNewChallenge({...newChallenge,description:e.target.value}),required:true})}),/*#__PURE__*/_jsx(Grid,{size:{xs:12,sm:6},children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Challenge Type\"}),/*#__PURE__*/_jsxs(Select,{value:newChallenge.type,onChange:e=>setNewChallenge({...newChallenge,type:e.target.value}),label:\"Challenge Type\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"workout\",children:\"Workout Challenge\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"diet\",children:\"Diet Challenge\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"weight\",children:\"Weight Loss Challenge\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"consistency\",children:\"Consistency Challenge\"})]})]})}),/*#__PURE__*/_jsx(Grid,{size:{xs:12,sm:6},children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Duration (days)\",type:\"number\",value:newChallenge.duration,onChange:e=>setNewChallenge({...newChallenge,duration:parseInt(e.target.value)})})}),/*#__PURE__*/_jsx(Grid,{size:{xs:12,sm:6},children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Target\",value:newChallenge.target,onChange:e=>setNewChallenge({...newChallenge,target:e.target.value}),placeholder:\"e.g., 100 push-ups daily\"})}),/*#__PURE__*/_jsx(Grid,{size:{xs:12,sm:6},children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Reward\",value:newChallenge.reward,onChange:e=>setNewChallenge({...newChallenge,reward:e.target.value}),placeholder:\"e.g., 500 points + badge\"})})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setCreateChallengeOpen(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleCreateChallenge,variant:\"contained\",children:\"Create Challenge\"})]})]});return/*#__PURE__*/_jsxs(Box,{sx:{p:3},children:[!onTabChange&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Community Hub\"}),/*#__PURE__*/_jsx(Paper,{sx:{mb:3},children:/*#__PURE__*/_jsxs(Tabs,{value:currentTab,onChange:handleTabChange,children:[/*#__PURE__*/_jsx(Tab,{label:\"Challenges\"}),/*#__PURE__*/_jsx(Tab,{label:\"Leaderboard\"}),/*#__PURE__*/_jsx(Tab,{label:\"Forum\"})]})})]}),currentTab===0&&renderChallenges(),currentTab===1&&renderLeaderboard(),currentTab===2&&renderForum(),renderCreateChallengeDialog(),/*#__PURE__*/_jsx(Snackbar,{open:notification.open,autoHideDuration:6000,onClose:()=>setNotification({...notification,open:false}),children:/*#__PURE__*/_jsx(Alert,{severity:notification.severity,onClose:()=>setNotification({...notification,open:false}),children:notification.message})})]});};export default EnhancedCommunityFeatures;","map":{"version":3,"names":["React","useState","useEffect","Box","Grid","Card","CardContent","Typography","Button","Avatar","Chip","Dialog","DialogTitle","DialogContent","DialogActions","TextField","FormControl","InputLabel","Select","MenuItem","Tabs","Tab","List","ListItem","ListItemAvatar","ListItemText","ListItemSecondaryAction","IconButton","Badge","Paper","LinearProgress","Alert","Snackbar","Add","AddIcon","EmojiEvents","TrophyIcon","People","PeopleIcon","TrendingUp","TrendingUpIcon","Chat","ChatIcon","ThumbUp","LikeIcon","Share","ShareIcon","CalendarToday","CalendarIcon","Timer","TimerIcon","FitnessCenter","WorkoutIcon","Restaurant","DietIcon","Scale","WeightIcon","Star","StarIcon","Message","MessageIcon","communityService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EnhancedCommunityFeatures","_ref","activeTab","onTabChange","internalActiveTab","setInternalActiveTab","currentTab","handleTabChange","event","newValue","challenges","setChallenges","leaderboard","setLeaderboard","forum","setForum","createChallengeOpen","setCreateChallengeOpen","newChallenge","setNewChallenge","title","description","type","duration","target","reward","notification","setNotification","open","message","severity","loadCommunityData","challengesResponse","listChallenges","items","error","console","warn","id","participants","status","createdBy","startDate","endDate","progress","userProgress","leaderboardResponse","rank","name","points","avatar","badge","forumResponse","listForums","author","replies","likes","lastReply","category","handleCreateChallenge","showNotification","challengeData","createdChallenge","createChallenge","prev","backendError","challenge","length","Date","toISOString","split","now","existingChallenges","JSON","parse","localStorage","getItem","unshift","setItem","stringify","joinChallenge","challengeId","response","map","_id","renderChallenges","container","spacing","children","size","xs","display","justifyContent","alignItems","mb","variant","startIcon","onClick","md","lg","sx","height","flexDirection","flexGrow","component","label","color","gutterBottom","gap","value","mt","disabled","Math","random","renderLeaderboard","user","index","divider","bgcolor","primary","secondary","toLocaleString","style","marginLeft","secondaryTypographyProps","edge","renderForum","post","charAt","toUpperCase","marginTop","fontSize","renderCreateChallengeDialog","onClose","maxWidth","fullWidth","onChange","e","required","multiline","rows","sm","parseInt","placeholder","p","autoHideDuration"],"sources":["C:/Users/gowth_tq3ir2j/OneDrive/Documents/project 3rd year/one credit/Fitness Tracker/frontend/src/components/community/EnhancedCommunityFeatures.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Grid,\n  Card,\n  CardContent,\n  Typography,\n  Button,\n  Avatar,\n  Chip,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Tabs,\n  Tab,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  ListItemSecondaryAction,\n  IconButton,\n  Badge,\n  Paper,\n  LinearProgress,\n  Alert,\n  Snackbar\n} from '@mui/material';\nimport {\n  Add as AddIcon,\n  EmojiEvents as TrophyIcon,\n  People as PeopleIcon,\n  TrendingUp as TrendingUpIcon,\n  Chat as ChatIcon,\n  ThumbUp as LikeIcon,\n  Share as ShareIcon,\n  CalendarToday as CalendarIcon,\n  Timer as TimerIcon,\n  FitnessCenter as WorkoutIcon,\n  Restaurant as DietIcon,\n  Scale as WeightIcon,\n  Star as StarIcon,\n  Message as MessageIcon\n} from '@mui/icons-material';\nimport { communityService } from '../../services/communityService';\n\nconst EnhancedCommunityFeatures = ({ activeTab = 0, onTabChange }) => {\n  const [internalActiveTab, setInternalActiveTab] = useState(activeTab);\n  \n  // Use external tab control if provided, otherwise use internal state\n  const currentTab = onTabChange ? activeTab : internalActiveTab;\n  const handleTabChange = onTabChange || ((event, newValue) => setInternalActiveTab(newValue));\n  const [challenges, setChallenges] = useState([]);\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [forum, setForum] = useState([]);\n  const [createChallengeOpen, setCreateChallengeOpen] = useState(false);\n  const [newChallenge, setNewChallenge] = useState({\n    title: '',\n    description: '',\n    type: '',\n    duration: '',\n    target: '',\n    reward: ''\n  });\n  const [notification, setNotification] = useState({ open: false, message: '', severity: 'success' });\n\n  useEffect(() => {\n    loadCommunityData();\n  }, []);\n\n  const loadCommunityData = async () => {\n    try {\n      // Load real data from API with localStorage fallback\n      try {\n        const challengesResponse = await communityService.listChallenges();\n        setChallenges(challengesResponse.items || []);\n      } catch (error) {\n        console.warn('Backend unavailable, using mock challenges:', error);\n        setChallenges([\n      {\n        id: 1,\n        title: '30-Day Push-up Challenge',\n        description: 'Complete 100 push-ups every day for 30 days',\n        type: 'workout',\n        duration: 30,\n        participants: 156,\n        reward: 'Fitness Badge + 500 Points',\n        status: 'active',\n        createdBy: 'Admin',\n        startDate: '2024-01-01',\n        endDate: '2024-01-30',\n        progress: 65,\n        userProgress: 20\n      },\n      {\n        id: 2,\n        title: 'Healthy Eating Streak',\n        description: 'Log meals and stay within calorie goals for 21 days',\n        type: 'diet',\n        duration: 21,\n        participants: 89,\n        reward: 'Nutrition Expert Badge + 300 Points',\n        status: 'active',\n        createdBy: 'Faculty',\n        startDate: '2024-01-15',\n        endDate: '2024-02-05',\n        progress: 45,\n        userProgress: 12\n      },\n      {\n        id: 3,\n        title: 'Weight Loss Warriors',\n        description: 'Lose 5kg in 60 days with healthy lifestyle changes',\n        type: 'weight',\n        duration: 60,\n        participants: 234,\n        reward: 'Transformation Badge + 1000 Points',\n        status: 'active',\n        createdBy: 'Admin',\n        startDate: '2024-01-01',\n        endDate: '2024-03-01',\n        progress: 30,\n        userProgress: 8\n      }\n        ]);\n      }\n\n      try {\n        const leaderboardResponse = await communityService.leaderboard();\n        setLeaderboard(leaderboardResponse.items || []);\n      } catch (error) {\n        console.warn('Backend unavailable, using mock leaderboard:', error);\n        setLeaderboard([\n          { rank: 1, name: 'Alex Johnson', points: 2450, avatar: 'AJ', badge: 'Champion' },\n          { rank: 2, name: 'Sarah Wilson', points: 2200, avatar: 'SW', badge: 'Elite' },\n          { rank: 3, name: 'Mike Chen', points: 1950, avatar: 'MC', badge: 'Expert' },\n          { rank: 4, name: 'Emma Davis', points: 1800, avatar: 'ED', badge: 'Advanced' },\n          { rank: 5, name: 'Tom Brown', points: 1650, avatar: 'TB', badge: 'Intermediate' }\n        ]);\n      }\n\n      try {\n        const forumResponse = await communityService.listForums();\n        setForum(forumResponse.items || []);\n      } catch (error) {\n        console.warn('Backend unavailable, using mock forum:', error);\n        setForum([\n          {\n            id: 1,\n            title: 'Best workout routines for beginners?',\n            author: 'Newbie123',\n            replies: 15,\n            likes: 23,\n            lastReply: '2 hours ago',\n            category: 'Workout Tips'\n          },\n          {\n            id: 2,\n            title: 'Meal prep ideas for busy students',\n            author: 'BusyStudent',\n            replies: 8,\n            likes: 31,\n            lastReply: '5 hours ago',\n            category: 'Nutrition'\n          },\n          {\n            id: 3,\n            title: 'How to stay motivated during weight loss plateau?',\n            author: 'FitnessJourney',\n            replies: 22,\n            likes: 45,\n            lastReply: '1 day ago',\n            category: 'Motivation'\n          }\n        ]);\n      }\n    } catch (error) {\n      console.error('Error loading community data:', error);\n    }\n  };\n\n  const handleCreateChallenge = async () => {\n    if (!newChallenge.title || !newChallenge.description) {\n      showNotification('Please fill in all required fields', 'error');\n      return;\n    }\n\n    try {\n      const challengeData = {\n        title: newChallenge.title,\n        description: newChallenge.description\n      };\n\n      try {\n        const createdChallenge = await communityService.createChallenge(challengeData);\n        setChallenges(prev => [createdChallenge, ...prev]);\n        showNotification('Challenge created successfully!', 'success');\n      } catch (backendError) {\n        console.warn('Backend unavailable, saving locally:', backendError);\n        \n        // Fallback to localStorage\n        const challenge = {\n          id: challenges.length + 1,\n          ...newChallenge,\n          participants: 0,\n          status: 'active',\n          createdBy: 'Current User',\n          startDate: new Date().toISOString().split('T')[0],\n          endDate: new Date(Date.now() + newChallenge.duration * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n          progress: 0,\n          userProgress: 0\n        };\n\n        const existingChallenges = JSON.parse(localStorage.getItem('challenges') || '[]');\n        existingChallenges.unshift(challenge);\n        localStorage.setItem('challenges', JSON.stringify(existingChallenges));\n        \n        setChallenges([challenge, ...challenges]);\n        showNotification('Challenge saved locally! (Backend unavailable)', 'warning');\n      }\n\n      setCreateChallengeOpen(false);\n      setNewChallenge({ title: '', description: '', type: 'workout', duration: 30, target: '', reward: '' });\n    } catch (error) {\n      console.error('Error creating challenge:', error);\n      showNotification('Failed to create challenge', 'error');\n    }\n  };\n\n  const joinChallenge = async (challengeId) => {\n    if (!challengeId) {\n      showNotification('Invalid challenge ID', 'error');\n      return;\n    }\n    \n    try {\n      try {\n        const response = await communityService.joinChallenge(challengeId);\n        setChallenges(challenges.map(challenge => \n          (challenge._id || challenge.id) === challengeId \n            ? { ...challenge, participants: response.participants || challenge.participants + 1, userProgress: 1 }\n            : challenge\n        ));\n        showNotification('Joined challenge successfully!', 'success');\n      } catch (backendError) {\n        console.warn('Backend unavailable, updating locally:', backendError);\n        setChallenges(challenges.map(challenge => \n          (challenge._id || challenge.id) === challengeId \n            ? { ...challenge, participants: challenge.participants + 1, userProgress: 1 }\n            : challenge\n        ));\n        showNotification('Joined challenge locally! (Backend unavailable)', 'warning');\n      }\n    } catch (error) {\n      console.error('Error joining challenge:', error);\n      showNotification('Failed to join challenge', 'error');\n    }\n  };\n\n  const showNotification = (message, severity) => {\n    setNotification({ open: true, message, severity });\n  };\n\n  const renderChallenges = () => (\n    <Grid container spacing={3}>\n      <Grid size={{ xs: 12 }}>\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\n          <Typography variant=\"h5\">Active Challenges</Typography>\n          <Button\n            variant=\"contained\"\n            startIcon={<AddIcon />}\n            onClick={() => setCreateChallengeOpen(true)}\n          >\n            Create Challenge\n          </Button>\n        </Box>\n      </Grid>\n\n      {challenges.map((challenge) => (\n        <Grid size={{ xs: 12, md: 6, lg: 4 }} key={challenge._id || challenge.id || `challenge-${Math.random()}`}>\n          <Card sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n            <CardContent sx={{ flexGrow: 1 }}>\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"flex-start\" mb={2}>\n                <Typography variant=\"h6\" component=\"h2\">\n                  {challenge.title}\n                </Typography>\n                <Chip\n                  label={challenge.status}\n                  color={challenge.status === 'active' ? 'success' : 'default'}\n                  size=\"small\"\n                />\n              </Box>\n\n              <Typography color=\"textSecondary\" gutterBottom>\n                {challenge.description}\n              </Typography>\n\n              <Box display=\"flex\" alignItems=\"center\" gap={1} mb={2}>\n                {challenge.type === 'workout' && <WorkoutIcon color=\"primary\" />}\n                {challenge.type === 'diet' && <DietIcon color=\"secondary\" />}\n                {challenge.type === 'weight' && <WeightIcon color=\"success\" />}\n                <Typography variant=\"body2\" color=\"textSecondary\">\n                  {challenge.duration} days ‚Ä¢ {challenge.participants} participants\n                </Typography>\n              </Box>\n\n              <Box mb={2}>\n                <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\n                  Progress: {challenge.userProgress}/{challenge.duration} days\n                </Typography>\n                <LinearProgress\n                  variant=\"determinate\"\n                  value={(challenge.userProgress / challenge.duration) * 100}\n                  sx={{ mb: 1 }}\n                />\n                <Typography variant=\"caption\" color=\"textSecondary\">\n                  {challenge.progress}% of participants active\n                </Typography>\n              </Box>\n\n              <Typography variant=\"body2\" color=\"primary\" gutterBottom>\n                üèÜ Reward: {challenge.reward}\n              </Typography>\n\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mt={2}>\n                <Typography variant=\"caption\" color=\"textSecondary\">\n                  Created by {challenge.createdBy}\n                </Typography>\n                <Button\n                  variant=\"outlined\"\n                  size=\"small\"\n                  onClick={() => joinChallenge(challenge._id || challenge.id)}\n                  disabled={challenge.userProgress > 0}\n                >\n                  {challenge.userProgress > 0 ? 'Joined' : 'Join Challenge'}\n                </Button>\n              </Box>\n            </CardContent>\n          </Card>\n        </Grid>\n      ))}\n    </Grid>\n  );\n\n  const renderLeaderboard = () => (\n    <Card>\n      <CardContent>\n        <Typography variant=\"h5\" gutterBottom>\n          üèÜ Leaderboard\n        </Typography>\n        <List>\n          {leaderboard.map((user, index) => (\n            <ListItem key={user.id || user.rank || `user-${index}`} divider={index < leaderboard.length - 1}>\n              <ListItemAvatar>\n                <Avatar\n                  sx={{\n                    bgcolor: index === 0 ? 'gold' : index === 1 ? 'silver' : index === 2 ? '#CD7F32' : 'primary.main',\n                    color: 'white'\n                  }}\n                >\n                  {index < 3 ? <TrophyIcon /> : user.avatar}\n                </Avatar>\n              </ListItemAvatar>\n              <ListItemText\n                primary={\n                  <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                    <Typography variant=\"h6\">\n                      #{user.rank} {user.name}\n                    </Typography>\n                    <Chip label={user.badge} size=\"small\" color=\"primary\" />\n                  </Box>\n                }\n                secondary={\n                  <span>\n                    <span>{user.points.toLocaleString()} points</span>\n                    {index < 3 && (\n                      <span style={{ marginLeft: '16px', color: '#1976d2' }}>\n                        üèÜ Top {index === 0 ? 'Champion' : index === 1 ? 'Runner-up' : '3rd Place'}\n                      </span>\n                    )}\n                  </span>\n                }\n                secondaryTypographyProps={{ component: 'div' }}\n              />\n              <ListItemSecondaryAction>\n                <IconButton edge=\"end\">\n                  <ShareIcon />\n                </IconButton>\n              </ListItemSecondaryAction>\n            </ListItem>\n          ))}\n        </List>\n      </CardContent>\n    </Card>\n  );\n\n  const renderForum = () => (\n    <Card>\n      <CardContent>\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\n          <Typography variant=\"h5\">Community Forum</Typography>\n          <Button variant=\"contained\" startIcon={<AddIcon />}>\n            New Post\n          </Button>\n        </Box>\n\n        <List>\n          {forum.map((post, index) => (\n            <ListItem key={post._id || post.id || `post-${index}`} divider={index < forum.length - 1}>\n              <ListItemAvatar>\n                <Avatar>\n                  {post.author.charAt(0).toUpperCase()}\n                </Avatar>\n              </ListItemAvatar>\n              <ListItemText\n                primary={\n                  <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                    <Typography variant=\"h6\">\n                      {post.title}\n                    </Typography>\n                    <Chip label={post.category} size=\"small\" color=\"secondary\" />\n                  </Box>\n                }\n                secondary={\n                  <span>\n                    <span style={{ color: 'rgba(0, 0, 0, 0.6)' }}>\n                      by {post.author} ‚Ä¢ {post.lastReply}\n                    </span>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '16px', marginTop: '8px' }}>\n                      <span style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\n                        <ChatIcon fontSize=\"small\" color=\"action\" />\n                        <span style={{ fontSize: '0.75rem' }}>{post.replies} replies</span>\n                      </span>\n                      <span style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\n                        <LikeIcon fontSize=\"small\" color=\"action\" />\n                        <span style={{ fontSize: '0.75rem' }}>{post.likes} likes</span>\n                      </span>\n                    </div>\n                  </span>\n                }\n                secondaryTypographyProps={{ component: 'div' }}\n              />\n              <ListItemSecondaryAction>\n                <IconButton edge=\"end\">\n                  <MessageIcon />\n                </IconButton>\n              </ListItemSecondaryAction>\n            </ListItem>\n          ))}\n        </List>\n      </CardContent>\n    </Card>\n  );\n\n  const renderCreateChallengeDialog = () => (\n    <Dialog open={createChallengeOpen} onClose={() => setCreateChallengeOpen(false)} maxWidth=\"md\" fullWidth>\n      <DialogTitle>Create New Challenge</DialogTitle>\n      <DialogContent>\n        <Grid container spacing={2} sx={{ mt: 1 }}>\n          <Grid size={{ xs: 12 }}>\n            <TextField\n              fullWidth\n              label=\"Challenge Title\"\n              value={newChallenge.title}\n              onChange={(e) => setNewChallenge({...newChallenge, title: e.target.value})}\n              required\n            />\n          </Grid>\n          <Grid size={{ xs: 12 }}>\n            <TextField\n              fullWidth\n              label=\"Description\"\n              multiline\n              rows={3}\n              value={newChallenge.description}\n              onChange={(e) => setNewChallenge({...newChallenge, description: e.target.value})}\n              required\n            />\n          </Grid>\n          <Grid size={{ xs: 12, sm: 6 }}>\n            <FormControl fullWidth>\n              <InputLabel>Challenge Type</InputLabel>\n              <Select\n                value={newChallenge.type}\n                onChange={(e) => setNewChallenge({...newChallenge, type: e.target.value})}\n                label=\"Challenge Type\"\n              >\n                <MenuItem value=\"workout\">Workout Challenge</MenuItem>\n                <MenuItem value=\"diet\">Diet Challenge</MenuItem>\n                <MenuItem value=\"weight\">Weight Loss Challenge</MenuItem>\n                <MenuItem value=\"consistency\">Consistency Challenge</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n          <Grid size={{ xs: 12, sm: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Duration (days)\"\n              type=\"number\"\n              value={newChallenge.duration}\n              onChange={(e) => setNewChallenge({...newChallenge, duration: parseInt(e.target.value)})}\n            />\n          </Grid>\n          <Grid size={{ xs: 12, sm: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Target\"\n              value={newChallenge.target}\n              onChange={(e) => setNewChallenge({...newChallenge, target: e.target.value})}\n              placeholder=\"e.g., 100 push-ups daily\"\n            />\n          </Grid>\n          <Grid size={{ xs: 12, sm: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Reward\"\n              value={newChallenge.reward}\n              onChange={(e) => setNewChallenge({...newChallenge, reward: e.target.value})}\n              placeholder=\"e.g., 500 points + badge\"\n            />\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => setCreateChallengeOpen(false)}>Cancel</Button>\n        <Button onClick={handleCreateChallenge} variant=\"contained\">Create Challenge</Button>\n      </DialogActions>\n    </Dialog>\n  );\n\n  return (\n    <Box sx={{ p: 3 }}>\n      {/* Only show header and tabs if not controlled externally */}\n      {!onTabChange && (\n        <>\n          <Typography variant=\"h4\" gutterBottom>\n            Community Hub\n          </Typography>\n\n          <Paper sx={{ mb: 3 }}>\n            <Tabs value={currentTab} onChange={handleTabChange}>\n              <Tab label=\"Challenges\" />\n              <Tab label=\"Leaderboard\" />\n              <Tab label=\"Forum\" />\n            </Tabs>\n          </Paper>\n        </>\n      )}\n\n      {currentTab === 0 && renderChallenges()}\n      {currentTab === 1 && renderLeaderboard()}\n      {currentTab === 2 && renderForum()}\n\n      {renderCreateChallengeDialog()}\n\n      <Snackbar\n        open={notification.open}\n        autoHideDuration={6000}\n        onClose={() => setNotification({...notification, open: false})}\n      >\n        <Alert severity={notification.severity} onClose={() => setNotification({...notification, open: false})}>\n          {notification.message}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default EnhancedCommunityFeatures;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}