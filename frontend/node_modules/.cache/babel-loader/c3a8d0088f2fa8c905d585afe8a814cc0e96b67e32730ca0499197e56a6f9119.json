{"ast":null,"code":"import React from'react';import{Navigate}from'react-router-dom';import{useAuth}from'../../context/AuthContext';import{CircularProgress,Box,Typography}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,requireRole=null}=_ref;const{isAuthenticated,loading,user}=useAuth();if(loading){return/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"100vh\",children:/*#__PURE__*/_jsx(CircularProgress,{})});}if(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}// Check role-based access\nif(requireRole&&user){if(!requireRole.includes(user.role)){return/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"100vh\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",color:\"error\",gutterBottom:true,children:\"Access Denied\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"textSecondary\",children:\"You don't have permission to access this page.\"})]});}}return children;};export default ProtectedRoute;","map":{"version":3,"names":["React","Navigate","useAuth","CircularProgress","Box","Typography","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","requireRole","isAuthenticated","loading","user","display","justifyContent","alignItems","minHeight","to","replace","includes","role","flexDirection","variant","color","gutterBottom"],"sources":["C:/Users/gowth_tq3ir2j/OneDrive/Documents/project 3rd year/one credit/Fitness Tracker/frontend/src/components/auth/ProtectedRoute.js"],"sourcesContent":["import React from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\nimport { CircularProgress, Box, Typography } from '@mui/material';\n\nconst ProtectedRoute = ({ children, requireRole = null }) => {\n  const { isAuthenticated, loading, user } = useAuth();\n\n  if (loading) {\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        minHeight=\"100vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  // Check role-based access\n  if (requireRole && user) {\n    if (!requireRole.includes(user.role)) {\n      return (\n        <Box display=\"flex\" flexDirection=\"column\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"100vh\">\n          <Typography variant=\"h5\" color=\"error\" gutterBottom>\n            Access Denied\n          </Typography>\n          <Typography variant=\"body1\" color=\"textSecondary\">\n            You don't have permission to access this page.\n          </Typography>\n        </Box>\n      );\n    }\n  }\n\n  return children;\n};\n\nexport default ProtectedRoute; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,OAAO,KAAQ,2BAA2B,CACnD,OAASC,gBAAgB,CAAEC,GAAG,CAAEC,UAAU,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElE,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAsC,IAArC,CAAEC,QAAQ,CAAEC,WAAW,CAAG,IAAK,CAAC,CAAAF,IAAA,CACtD,KAAM,CAAEG,eAAe,CAAEC,OAAO,CAAEC,IAAK,CAAC,CAAGd,OAAO,CAAC,CAAC,CAEpD,GAAIa,OAAO,CAAE,CACX,mBACER,IAAA,CAACH,GAAG,EACFa,OAAO,CAAC,MAAM,CACdC,cAAc,CAAC,QAAQ,CACvBC,UAAU,CAAC,QAAQ,CACnBC,SAAS,CAAC,OAAO,CAAAR,QAAA,cAEjBL,IAAA,CAACJ,gBAAgB,GAAE,CAAC,CACjB,CAAC,CAEV,CAEA,GAAI,CAACW,eAAe,CAAE,CACpB,mBAAOP,IAAA,CAACN,QAAQ,EAACoB,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CACzC,CAEA;AACA,GAAIT,WAAW,EAAIG,IAAI,CAAE,CACvB,GAAI,CAACH,WAAW,CAACU,QAAQ,CAACP,IAAI,CAACQ,IAAI,CAAC,CAAE,CACpC,mBACEf,KAAA,CAACL,GAAG,EAACa,OAAO,CAAC,MAAM,CAACQ,aAAa,CAAC,QAAQ,CAACP,cAAc,CAAC,QAAQ,CAACC,UAAU,CAAC,QAAQ,CAACC,SAAS,CAAC,OAAO,CAAAR,QAAA,eACtGL,IAAA,CAACF,UAAU,EAACqB,OAAO,CAAC,IAAI,CAACC,KAAK,CAAC,OAAO,CAACC,YAAY,MAAAhB,QAAA,CAAC,eAEpD,CAAY,CAAC,cACbL,IAAA,CAACF,UAAU,EAACqB,OAAO,CAAC,OAAO,CAACC,KAAK,CAAC,eAAe,CAAAf,QAAA,CAAC,gDAElD,CAAY,CAAC,EACV,CAAC,CAEV,CACF,CAEA,MAAO,CAAAA,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}