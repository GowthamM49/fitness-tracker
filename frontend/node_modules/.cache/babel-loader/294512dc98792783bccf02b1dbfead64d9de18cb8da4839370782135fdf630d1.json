{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate,useLocation}from'react-router-dom';import{AuthProvider,useAuth}from'./context/AuthContext';import{ThemeProvider,createTheme}from'@mui/material/styles';import CssBaseline from'@mui/material/CssBaseline';// Layout Components\nimport Navbar from'./components/layout/Navbar';import Sidebar from'./components/layout/Sidebar';// Auth Pages\nimport Login from'./pages/Login';import Register from'./pages/Register';// Main Pages\nimport Dashboard from'./pages/Dashboard';import WorkoutPage from'./pages/WorkoutPage';import DietPage from'./pages/DietPage';import ProgressPage from'./pages/ProgressPage';import CommunityPage from'./pages/CommunityPage';import ProfilePage from'./pages/ProfilePage';import AdminPanel from'./pages/AdminPanel';// Protected Route Component\nimport ProtectedRoute from'./components/auth/ProtectedRoute';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const theme=createTheme({palette:{primary:{main:'#0ea5e9'},secondary:{main:'#d946ef'}}});// Layout component for authenticated pages\nconst AuthenticatedLayout=_ref=>{let{children}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",style:{marginTop:'64px'},children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1 p-6\",children:children})]})]});};// Layout component for public pages (login, register)\nconst PublicLayout=_ref2=>{let{children}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1\",style:{marginTop:'64px'},children:children})]});};function App(){return/*#__PURE__*/_jsxs(ThemeProvider,{theme:theme,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(PublicLayout,{children:/*#__PURE__*/_jsx(Login,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(PublicLayout,{children:/*#__PURE__*/_jsx(Register,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AuthenticatedLayout,{children:/*#__PURE__*/_jsx(Dashboard,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/workout\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AuthenticatedLayout,{children:/*#__PURE__*/_jsx(WorkoutPage,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/diet\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AuthenticatedLayout,{children:/*#__PURE__*/_jsx(DietPage,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/progress\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AuthenticatedLayout,{children:/*#__PURE__*/_jsx(ProgressPage,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/community\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AuthenticatedLayout,{children:/*#__PURE__*/_jsx(CommunityPage,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AuthenticatedLayout,{children:/*#__PURE__*/_jsx(ProfilePage,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requireRole:['admin','faculty'],children:/*#__PURE__*/_jsx(AuthenticatedLayout,{children:/*#__PURE__*/_jsx(AdminPanel,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})})]});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","useLocation","AuthProvider","useAuth","ThemeProvider","createTheme","CssBaseline","Navbar","Sidebar","Login","Register","Dashboard","WorkoutPage","DietPage","ProgressPage","CommunityPage","ProfilePage","AdminPanel","ProtectedRoute","jsx","_jsx","jsxs","_jsxs","theme","palette","primary","main","secondary","AuthenticatedLayout","_ref","children","className","style","marginTop","PublicLayout","_ref2","App","path","element","requireRole","to","replace"],"sources":["C:/Users/gowth_tq3ir2j/OneDrive/Documents/project 3rd year/one credit/Fitness Tracker/frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useLocation } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './context/AuthContext';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport CssBaseline from '@mui/material/CssBaseline';\n\n// Layout Components\nimport Navbar from './components/layout/Navbar';\nimport Sidebar from './components/layout/Sidebar';\n\n// Auth Pages\nimport Login from './pages/Login';\nimport Register from './pages/Register';\n\n// Main Pages\nimport Dashboard from './pages/Dashboard';\nimport WorkoutPage from './pages/WorkoutPage';\nimport DietPage from './pages/DietPage';\nimport ProgressPage from './pages/ProgressPage';\nimport CommunityPage from './pages/CommunityPage';\nimport ProfilePage from './pages/ProfilePage';\nimport AdminPanel from './pages/AdminPanel';\n\n// Protected Route Component\nimport ProtectedRoute from './components/auth/ProtectedRoute';\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: '#0ea5e9',\n    },\n    secondary: {\n      main: '#d946ef',\n    },\n  },\n});\n\n// Layout component for authenticated pages\nconst AuthenticatedLayout = ({ children }) => {\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navbar />\n      <div className=\"flex\" style={{ marginTop: '64px' }}>\n        <Sidebar />\n        <main className=\"flex-1 p-6\">\n          {children}\n        </main>\n      </div>\n    </div>\n  );\n};\n\n// Layout component for public pages (login, register)\nconst PublicLayout = ({ children }) => {\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navbar />\n      <main className=\"flex-1\" style={{ marginTop: '64px' }}>\n        {children}\n      </main>\n    </div>\n  );\n};\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <AuthProvider>\n        <Router>\n          <Routes>\n            {/* Public Routes */}\n            <Route path=\"/login\" element={\n              <PublicLayout>\n                <Login />\n              </PublicLayout>\n            } />\n            <Route path=\"/register\" element={\n              <PublicLayout>\n                <Register />\n              </PublicLayout>\n            } />\n            \n            {/* Protected Routes */}\n            <Route path=\"/\" element={\n              <ProtectedRoute>\n                <AuthenticatedLayout>\n                  <Dashboard />\n                </AuthenticatedLayout>\n              </ProtectedRoute>\n            } />\n            <Route path=\"/workout\" element={\n              <ProtectedRoute>\n                <AuthenticatedLayout>\n                  <WorkoutPage />\n                </AuthenticatedLayout>\n              </ProtectedRoute>\n            } />\n            <Route path=\"/diet\" element={\n              <ProtectedRoute>\n                <AuthenticatedLayout>\n                  <DietPage />\n                </AuthenticatedLayout>\n              </ProtectedRoute>\n            } />\n            <Route path=\"/progress\" element={\n              <ProtectedRoute>\n                <AuthenticatedLayout>\n                  <ProgressPage />\n                </AuthenticatedLayout>\n              </ProtectedRoute>\n            } />\n            <Route path=\"/community\" element={\n              <ProtectedRoute>\n                <AuthenticatedLayout>\n                  <CommunityPage />\n                </AuthenticatedLayout>\n              </ProtectedRoute>\n            } />\n            <Route path=\"/profile\" element={\n              <ProtectedRoute>\n                <AuthenticatedLayout>\n                  <ProfilePage />\n                </AuthenticatedLayout>\n              </ProtectedRoute>\n            } />\n            <Route path=\"/admin\" element={\n              <ProtectedRoute requireRole={['admin', 'faculty']}>\n                <AuthenticatedLayout>\n                  <AdminPanel />\n                </AuthenticatedLayout>\n              </ProtectedRoute>\n            } />\n            \n            {/* Redirect to dashboard if route not found */}\n            <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n          </Routes>\n        </Router>\n      </AuthProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}