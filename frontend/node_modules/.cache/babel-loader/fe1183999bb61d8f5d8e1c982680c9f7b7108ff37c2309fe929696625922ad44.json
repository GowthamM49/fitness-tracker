{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{Container,Paper,TextField,Button,Typography,Box,Alert,CircularProgress,Divider}from'@mui/material';import{Email as EmailIcon,Lock as LockIcon}from'@mui/icons-material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[formData,setFormData]=useState({email:'',password:''});const[errors,setErrors]=useState({});const[loading,setLoading]=useState(false);const{login,error}=useAuth();const navigate=useNavigate();const validateForm=()=>{const newErrors={};if(!formData.email){newErrors.email='Email is required';}else if(!/\\S+@\\S+\\.\\S+/.test(formData.email)){newErrors.email='Email is invalid';}if(!formData.password){newErrors.password='Password is required';}else if(formData.password.length<6){newErrors.password='Password must be at least 6 characters';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));// Clear error when user starts typing\nif(errors[name]){setErrors(prev=>({...prev,[name]:''}));}};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setLoading(true);const result=await login(formData.email,formData.password);setLoading(false);if(result.success){navigate('/');}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsx(Box,{sx:{marginTop:8,display:'flex',flexDirection:'column',alignItems:'center'},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{padding:4,display:'flex',flexDirection:'column',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h4\",gutterBottom:true,children:\"Welcome Back\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",gutterBottom:true,children:\"Sign in to your KEC Fitness Tracker account\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{width:'100%',mb:2},children:error}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{width:'100%'},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",autoFocus:true,value:formData.email,onChange:handleChange,error:!!errors.email,helperText:errors.email,InputProps:{startAdornment:/*#__PURE__*/_jsx(EmailIcon,{sx:{mr:1,color:'action.active'}})}}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",value:formData.password,onChange:handleChange,error:!!errors.password,helperText:errors.password,InputProps:{startAdornment:/*#__PURE__*/_jsx(LockIcon,{sx:{mr:1,color:'action.active'}})}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},disabled:loading,children:loading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):'Sign In'}),/*#__PURE__*/_jsx(Divider,{sx:{my:2},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"OR\"})}),/*#__PURE__*/_jsx(Box,{sx:{textAlign:'center'},children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"text-primary-600 hover:text-primary-700\",children:\"Sign up here\"})]})})]})]})})});};export default Login;","map":{"version":3,"names":["React","useState","Link","useNavigate","useAuth","Container","Paper","TextField","Button","Typography","Box","Alert","CircularProgress","Divider","Email","EmailIcon","Lock","LockIcon","jsx","_jsx","jsxs","_jsxs","Login","formData","setFormData","email","password","errors","setErrors","loading","setLoading","login","error","navigate","validateForm","newErrors","test","length","Object","keys","handleChange","e","name","value","target","prev","handleSubmit","preventDefault","result","success","maxWidth","children","sx","marginTop","display","flexDirection","alignItems","elevation","padding","width","component","variant","gutterBottom","color","severity","mb","onSubmit","margin","required","fullWidth","id","label","autoComplete","autoFocus","onChange","helperText","InputProps","startAdornment","mr","type","mt","disabled","size","my","textAlign","to","className"],"sources":["C:/Users/gowth_tq3ir2j/OneDrive/Documents/project 3rd year/one credit/Fitness Tracker/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport {\n  Container,\n  Paper,\n  TextField,\n  Button,\n  Typography,\n  Box,\n  Alert,\n  CircularProgress,\n  Divider\n} from '@mui/material';\nimport { Email as EmailIcon, Lock as LockIcon } from '@mui/icons-material';\n\nconst Login = () => {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n  \n  const { login, error } = useAuth();\n  const navigate = useNavigate();\n\n  const validateForm = () => {\n    const newErrors = {};\n    \n    if (!formData.email) {\n      newErrors.email = 'Email is required';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n      newErrors.email = 'Email is invalid';\n    }\n    \n    if (!formData.password) {\n      newErrors.password = 'Password is required';\n    } else if (formData.password.length < 6) {\n      newErrors.password = 'Password must be at least 6 characters';\n    }\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n    \n    setLoading(true);\n    const result = await login(formData.email, formData.password);\n    setLoading(false);\n    \n    if (result.success) {\n      navigate('/');\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Box\n        sx={{\n          marginTop: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}\n      >\n        <Paper\n          elevation={3}\n          sx={{\n            padding: 4,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            width: '100%',\n          }}\n        >\n          <Typography component=\"h1\" variant=\"h4\" gutterBottom>\n            Welcome Back\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n            Sign in to your KEC Fitness Tracker account\n          </Typography>\n          \n          {error && (\n            <Alert severity=\"error\" sx={{ width: '100%', mb: 2 }}>\n              {error}\n            </Alert>\n          )}\n          \n          <Box component=\"form\" onSubmit={handleSubmit} sx={{ width: '100%' }}>\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n              value={formData.email}\n              onChange={handleChange}\n              error={!!errors.email}\n              helperText={errors.email}\n              InputProps={{\n                startAdornment: <EmailIcon sx={{ mr: 1, color: 'action.active' }} />\n              }}\n            />\n            \n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              value={formData.password}\n              onChange={handleChange}\n              error={!!errors.password}\n              helperText={errors.password}\n              InputProps={{\n                startAdornment: <LockIcon sx={{ mr: 1, color: 'action.active' }} />\n              }}\n            />\n            \n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n              disabled={loading}\n            >\n              {loading ? <CircularProgress size={24} /> : 'Sign In'}\n            </Button>\n            \n            <Divider sx={{ my: 2 }}>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                OR\n              </Typography>\n            </Divider>\n            \n            <Box sx={{ textAlign: 'center' }}>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Don't have an account?{' '}\n                <Link to=\"/register\" className=\"text-primary-600 hover:text-primary-700\">\n                  Sign up here\n                </Link>\n              </Typography>\n            </Box>\n          </Box>\n        </Paper>\n      </Box>\n    </Container>\n  );\n};\n\nexport default Login; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}